#### 从 $\mathbb{R}^n$ 到 $V$ -- 基和表示理论

##### 维数这东西真的那么显然吗？

接下来我们将会正式地引入维度，但在此之前，我们要先证明一些相关结果. 本章中我们仍然在 $\mathbb{R}^n$ 上工作，如无特别解释，以下的映射和空间都是线性的. 

思考第一个问题：维数是什么？一个点的维数是 $0$, 直线的维数是 $1$, 平面维数是 $2$, 而我们所在的空间维数是 $3$, 维数描述了空间中有多少个"不同的方向"（这里左右视为一个方向，上下视为一个方向）. 所以我们自然期待 $\mathbb{R}^n$ 的维数是 $n$, 但是对一个一般的空间，怎么定义维数呢？先看几个例子：

一条直线 $\set{(t,t)|t\in\mathbb{R}}$ 是 $\mathbb{R}^2$ 的子空间，我们不能因为每个向量有两个分量就说它是二维的，所以显然我们不应该谈论一个向量的维数，而是一个空间整体的维数. 我们希望这条线的维数是 $1$，因为它只是平面上的一条线. 

所有 $a\sin x+b\cos x$ 型的函数形成了一个线性空间，这时我们不能直接把它看成一个空间中的平面，因为它甚至不是任何一个 $\mathbb{R}^n$ 的子空间. 但我们仍然认为它是二维的（如果你没有这个直觉就暂时这么接受下来吧），这是因为有两个参数决定这个函数. 

所有 $\mathbb{N}_+\to\mathbb{R}$ 的映射（即实数列）形成一个线性空间，看起来这里有无穷多个"参数"：$a_1,a_2,\cdots,a_n$ 都是互相独立的，而且它看起来"包含"了 $\mathbb{R}^n$ （通过把 $\mathbb{R}^n$ 中的元素看作第 $n$ 项之后全部为 $0$ 的有限数列）.

所有满足 $a_{n+1}=a_{n}+a_{n+1}$ 的数列 $a:\mathbb{N}_+\to\mathbb{R}$ 构成一个线性空间，这时 $a_{n+2}$ 完全由 $a_n$ 和 $a_{n+1}$ 决定，所以整个数列完全决定于它的前两项，实际上可以自由变化的量只有两个，这时我们定义它的维数是 $2$.

当我们说 $n$ 个参数决定(或称之为编码)了空间中的一个向量时，我们可以用更加数学化的语言说这个空间可以用 $\mathbb{R}^n$ 中的向量编码，也就是说每个向量在 $\mathbb{R}^n$ 中有唯一的表示. 更准确地说，$V$ 与 $\mathbb{R}^n$ 之间存在一个双射. 把维数转到与之存在双射的 $\mathbb{R}^n$ 完美地反映了检查需要多少个参数的想法，同时表明这个空间和 $\mathbb{R}^n$ 很像，在某种意义上我们可以像处理 $\mathbb{R}^n$ 一样处理它.

##### 准备工作和基础性质

> 我有必要强调下标可能用来表示不同的映射，也有可能表示一个映射的不同分量，这取决于上下文. 虽然我一直尝试着避免这种情况，但是我为了少从字母表中引入字母，我放弃了在整个文章中严格用不同的符号表示不同的概念. 在上一章中，我一直用 $j$ 作为 $n$ 对应的求和指标，但是我受够了，这一章开始我会用 $i$, 对于我来讲，这写起来简单多了，但是我希望不会给读者造成太多困惑.

上一章的想法很好，但是为了确保维数是"良定义"的，我们需要解决一些问题.

问题一：$V$ 有没有可能既和 $\mathbb{R}^m$ 又和 $\mathbb{R}^n$ 同构，这让它的维数既是 $m$ 又是 $n$，从而失败去让它良好定义呢.

事实上这不可能，假设 $V$ 和 $\mathbb{R}^n$ 同构，那 $v\in V$ 就和 $x\in\mathbb{R}^n$ 一一对应. 同时它又和 $y\in\mathbb{R}^m$ 一一对应，所以 $x\in\mathbb{R}^n$ 就和 $y\in\mathbb{R}^n$ 一一对应，即给出 $\mathbb{R}^m$ 和 $\mathbb{R}^n$ 的双射，但是这对 $m\ne n$ 并不可能（此结果在上一章中已经证明）所以维度至少不至于是糟糕定义的（指一个空间不会有两个维度）.

问题二：一定存在与 $V$ 同构的 $\mathbb{R}^n$ 吗？有没有可能 $V$ 不与任何一个 $\mathbb{R}^n$ 同构呢？

事实上这是有可能的，例如实数列 $a:\mathbb{N}_+\to\mathbb{R}$ 组成的空间就是，因为它不和任何一个 $\mathbb{R}^n$ 同构（ $n$ 有限 ），这时我们称它是无穷维的.

所以当一个实向量空间与 $\mathbb{R}^n$ 同构时，称它的维数为 $n$，记作 $\dim_{\mathbb{R}} V=n$（没有歧义时下标 $\mathbb{R}$ 被省去，记作 $\dim V=n$），特别地，称 $\dim 0=0$（这里的 $0$ 是只包含零向量的平凡空间），否则称其维数为无穷，即 $\dim V=\infty$，接下来回忆我们上一章的结果：
(1) 如果 $\mathbb{R}^n$ 到 $\mathbb{R}^m$ 有单射，则 $m\ge n$
(2) 如果 $\mathbb{R}^n$ 到 $\mathbb{R}^m$ 有满射，则 $m\le n$
这一次我们可以更加正式地用维数来叙述这一定理对有限维空间的情况：
对 $\dim V_1=n$, $\dim V_2=m$, 有：
(3) 若 $m<n$, 则 $V_1$ 到 $V_2$ 映射不单
(4) 若 $m > n$, 则 $V_1$ 到 $V_2$ 映射不满
(3)(4) 是结论 (1)(2) 通过向量空间与 $\mathbb{R}^n$ 和 $\mathbb{R}^m$ 的同构自然导出的.

为了加入无穷维的情况，我们还有必要证明两个结果来表明无穷维空间确实比有限维空间更“大”
(5) 如果 $\dim V_1=\infty$, $\dim V_2=m\in \mathbb{N}$, 则 $V_1\to V_2$ 不单
(6) 如果 $\dim V_1=n\in\mathbb{N}$, $\dim V_2=\infty$, 则 $V_1\to V_2$ 不满

这个结论将在下一节证明

##### 向量组，基底和坐标

我们知道如果 $\alpha_1$ 给出了 $\mathbb{R}^n\to V_1$ 的一个同构，$\alpha_2$ 给出了 $\mathbb{R}^m\to V_2$ 的同构，那么任何一个 $\varphi: V_1\to V_2$ 都可以用一个 $\mathbb{R}^n\to \mathbb{R}^m$ 的映射，即 $m\times n$ 矩阵表示，这个映射是由 $A=\alpha_2^{-1}\varphi\alpha_1$ 诱导的，称为 $\varphi$ 在基 $\alpha_1,\alpha_2$ 下的表示（基的定义在后面）

<center><img src="images/3-1.svg"/></center>

对于一个同构 $\alpha:\mathbb{R}^n\to V$，显然它的值完全由它在 $e_i$ 处的值决定，设 $\alpha(e_i)=\alpha_i$, 则 $\displaystyle \alpha(x)=\alpha\left(\sum_{i=1}^n x_i e_i \right)=\sum_{i=1}^n x_i\alpha(e_i)=\sum_{i=1}^n x_i\alpha_i $, 从列的角度来看，这个映射可以被写成：
$$
\alpha=\left[\begin{array}c\alpha_1 & \alpha_2 & \cdots & \alpha_n\end{array}\right]
$$
注意到在此我们拓展了矩阵的记号. 狭义地讲，矩阵每行每列都是数，但是这里每一列都是一个向量，而不一定是由数字组成的"列向量".

例如，在函数空间 $\set{a\sin x+b\cos x\mid a,b\in\mathbb{R}}$中，我们可以合理地写出：
$$
\left[\begin{array}c \sin x & \cos x \end{array}\right]
\left[\begin{array}c a \\ b \end{array}\right]=a\sin x+b\cos x
$$
这里的 $\sin x$ 和 $\cos x$ 是空间中的向量，上述的运算仍然遵守矩阵乘法的法则.

既然我们把(广义)矩阵的概念拓展到了研究一组向量，我们称一个(有序)向量组是一个可以用 $1\sim n$ 编号的向量列表. 有些教材认为向量组是无序的，但是为了方便，我们不妨让它是有序的，这对有限维空间够用了，于是这个向量组就可以正式地写为：
$$
\alpha=\left[\begin{array}c \alpha_1 & \alpha_2 & \cdots & \alpha_n \end{array}\right]
$$
注意到当 $V$ 就是 $\mathbb{R}^m$ 时， $a_i$ 刚好就是列向量，所以这成为了我们熟悉的矩阵，所以我们把(广义)的矩阵概念拓展到了任意空间 $V$. 显然一个向量组给出了一个 $\mathbb{R}^n$ 到 $V$ 的映射，把每个 $x\in\mathbb{R}^n$ 映射到 $\displaystyle \sum_{i=1}^n x_i\alpha_i$, 我们称之为 $\alpha$ 的一个线性组合，这个运算过程与矩阵是已知的，按照我们的习惯，我们要研究它的核和像以了解这个映射，"由 $\alpha$ 张成的空间"指 $\alpha$ 的所有线性组合，即 $\alpha$ 作为映射的像.

首先看到核.

- 如果核非 $0$ （即 $\alpha$ 不单），则根据定义存在一个非零的 $x$ 满足 $\displaystyle \sum_{i=1}^n x_i\alpha_i=0$, 即某个系数非 $0$ 的线性组合结果为 $0$. 此时称 $\alpha$ 中的向量线性相关，不妨设其中 $x_1\ne 0$, 则 $\displaystyle x_1\alpha_1 + \sum_{i=2}^n x_i\alpha_i=0$, 从而 $\displaystyle \alpha_1 = -\frac1{x_1} \sum_{i=2}^n x_i\alpha_i=\sum_{i=2}^n \left(-\frac{x_i}{x_1}\right)\alpha_i$, 即某个向量可以表示为其它向量的线性组合
- 相关意味着有向量可以被其它向量的组合表示，只要我们一个个拿走线性相关相关的向量，最终它总会变成一个不相关的向量组 $\alpha'$, 所有 $\alpha$ 中的向量都可以由 $\alpha'$ 的线性组合表示，从而 $\mathrm{Im}\,\alpha'=\mathrm{Im}\,\alpha$ （不改变像）且 $\mathrm{Ker}\,\alpha'=0$ （没有多余的向量），如果 $\dim V=m$ 而 $\alpha$ 是一个 $V$ 中的线性无关向量组，其中 $\alpha$ 中共 $n$ 个向量，则可以得到 $n\le m$，这是因为 $\alpha$ 给出了一个 $\mathbb{R}^n\to V$ 的单射（线性无关意味着单射）. 换言之，我们不可能在 $m$ 维空间中找出多于 $m$ 个线性无关的向量
- 对于一个 $m\times n$ 的矩阵 $A$, 如果高斯消元将它消元到行阶梯型，且有 $r$ 个阶梯头（对应非自由变量），则有 $n-r$ 个自由变量，解集可以用自由变量构成的 $\mathbb{R}^{n-r}$ 编码，故 $\dim\mathrm{Ker}\,A=n-r$

下面讨论像.

- 如果 $\alpha:\mathbb{R}^n\to V$ 是单射，则每个 $v\in\operatorname{\Im}\alpha$ 都可以被唯一地表示维 $\alpha(x)$, 其中 $x\in\mathbb{R}^n$. 所以 $\alpha$ 给出了 $\mathbb{R}^n$ 和 $V$ 之间的一一对应，其逆映射满足 $\alpha^{-1}(v)=x$, 这表明 $\mathrm{Im}\,\alpha$ 和 $\mathbb{R}^n$ 同构，即 $\dim \mathrm{Im}\,\alpha=n$.
- 如果 $\alpha:\mathbb{R}^n\to V$ 是满射，我们可以通过去除线性相关的向量将它约减到 $\alpha':\mathbb{R}^r\to V$，其中 $\alpha'$ 包含 $r$ 个线性无关的向量. 这时 $\alpha'$ 与 $\alpha$ 值域相同，所以满，由线性无关，所以单. 所以 $V$ 是有限维的且 $\dim V=r\le n$. 特别地，如果 $\alpha:\mathbb{R}^n\to V$ 是双射，$\dim\alpha=n$, 称 $\alpha$ 是 $V$ 的一个基, 如前文所说，每个 $v\in V$ 都可以唯一地用 $x=\alpha^{-1}(v)\in\mathbb{R}^n$ 表示，使得 $v$ 是 $x$ 在 $\alpha$ 下的像，称 $x$ 是 $v$ 在基 $\alpha$ 下的坐标.
- 如果 $\alpha:\mathbb{R}^n\to V$ 不满，我们总可以找到 $v\in V$ 不能被 $\alpha$ 线性表示. 对于无限维向量空间，因为任何有限向量组对应的映射都不满(why)，我们总可以往其中添加新的线性无关的向量，从而在其中找到任意多个线性无关的向量，从而给定任意 $\mathbb{R}^n$ 到 $V$ 的单射，这表明无限维的向量空间确实比有限维的向量空间更"大"（听起来像是正确的废话）
- 对于一个 $m\times n$ 的矩阵，如果高斯消元法留下了 $r$ 个阶梯头行，则上一章提到的行变换 $\rho_1$ 给出了 $\mathrm{Im}\,\varphi$ 和剩下前 $r$ 行的列向量 $\set{(x_1,x_2,\cdots, x_r, 0,\cdots,0)\in\mathbb{R}^m\mid x_i\in\mathbb{R}}$ 的一一映射，所以它经过行变换后是 $r$ 维向量空间，又因为行变换给出了一个一一对应，所以 $\mathrm{Im}\,\varphi$ 是 $r$ 维的.

##### 线性代数基本定理

经过这么久，我们已经研究过了线性方程并定义了什么是向量组，什么是基底和坐标，通过这些把有限维向量空间的问题转化到了 $\mathbb{R}^n$ 上容易研究的问题. 所以，线性代数中最重要、最基础也是最精华的定理终于要来了：

$线性代数基本定理:$  如果 $V_1$ 和 $V_2$ 是向量空间，$\varphi:V_1\to V_2$ 线性且 $V_1$ 维度有限，记 $\varphi$ 像的维数为其"秩"，即 $\mathrm{rank}\,\varphi=\dim\mathrm{Im}\,\varphi$, 则有 $\dim \mathrm{Ker}\,\varphi=\dim V_1 - \mathrm{rank}\,\varphi$.

证明：由 $\mathrm{Im}\,\varphi$ 维度有限(why)，它同构于某个 $\mathbb{R}^r$，根据定义， $r$ 作为像的维数就是 $\varphi$ 的秩，$\varphi$ 是到其像的满射. 所以可以分别取 $V_1$ 和 $\mathrm{Im}\,\varphi$ 的一个基底，则经过消元刚好有 $r$ 个主元，否则就不是满射了. 前文所述，记 $n$ 为 $V_1$ 的维数，则 $\dim\mathrm{Ker}\,A=n-r$, 证毕.

##### 对偶性 *

> 在数学中，对偶性不是一个定理，而是一个"原理"		—— 迈克尔·阿蒂亚

（虽然我觉得很优美，但是跳过）

##### 练习

$3.1$ 用矩阵语言说明为什么当 $m\ne n$ 时 $\mathbb{R}^m$ 和 $\mathbb{R}^n$ 不同构（这个结果上一章证过，这里作为复习）

$3.2$ 证明 $C[0,1]$ 是无穷维空间（回忆一下，$C[0,1]$ 是 $[0,1]$ 上的所有连续实函数组成的集合）

$3.3$ 你能叙述 $\mathbb{C}$-维数的定义吗？如果 $V=\mathbb{R}^2$，把它看成 $\mathbb{R}$-线性空间，它的维数是多少？把它看成 $\mathbb{C}$-线性空间呢？更进一步地，$\dim_{\mathbb{Q}}V$ 有限吗？为什么？（$\mathbb{Q}$ 是有理数域）

$3.4$ 证明线性空间 $V$ 和 $0$ 之间唯一的映射是 $0$ 映射，并说明 $0:V\to 0$ 满，$0:0\to V$ 单. 如果 $V\to 0$ 是满射，则 $V$ 是什么？

$3.5$ 证明一个包含 $0$ 的向量组按照定义是线性相关的.

$3.6$ 如果 $n+1$ 个向量 $\alpha_1,\alpha_2,\cdots,\alpha_{n+1}$ 中线性相关但是其中任意 $n$ 个线性无关，证明任意一个向量都可以用其它向量的线性组合来表示. 更加具体地，对如下的 $4$ 个向量：
$$
\alpha_1=\left[\begin{array}c 3 \\ -1 \\ -1 \\ -1 \end{array}\right],\alpha_2=\left[\begin{array}c -1 \\ 3 \\ -1 \\ -1 \end{array}\right],\alpha_3=\left[\begin{array}c -1 \\ -1 \\ 3 \\ -1 \end{array}\right]
\alpha_4 = \left[\begin{array}c -1 \\ -1 \\ -1 \\ 3 \end{array}\right]
$$
证明其中的任意 $3$ 个线性无关，但是这 $4$ 个向量线性相关，把每个向量用其它向量的线性组合表示.

$3.7$ 我们知道通过移除线性相关的向量，可以把一个包含 $n$ 个向量的向量组 $\alpha$ 变为一个包含 $r$ 个向量的向量组 $\alpha'$. 我们可以优先移除前面的向量，也可以优先移除后面的向量，也可以按照任何你喜欢的顺序，这可能导致留下来的向量不同，假设一种方式留下了 $r_1$ 个向量，另一种方式留下了 $r_2$ 个向量，证明 $r_1=r_2$. 记 $r=r_1=r_2$, 证明可以被 $\alpha$ 线性表示的 $r+1$ 个向量 $\beta_1,\beta_2,\cdots,\beta_r,\beta_{r+1}$ 线性相关.

$3.8$ 如果 $\varphi=\left[\begin{array}c 1 & 2 & 3 \\ 4 & 5 &6 \end{array}\right]$. 通过高斯消元为 $\mathrm{Ker}\,\varphi$ 找到一个基.

$3.9$ 如果 $\alpha=\left[\begin{array}c 1 & 1 & 1 & 1 \\ 1 & 1 & 1 & 1 \\ 1 & 1 & 1 & 1 \\ 1 \\ & 1 \\ && 1 \\ &&& 1 \end{array}\right]$, 在不用消元法的前提下证明 $\alpha$ 是单射.

$3.10$ 如果 $\alpha=\left[\begin{array}c 1 & 1 & 1 \\ & 1 & 1 \\ && 1 \end{array}\right]$, 证明 $\alpha$ 是双射，所以给出了 $\mathbb{R}^3$ 的一个基，写出向量 $\left[\begin{array}c x_1 \\ x_2 \\ x_3 \end{array}\right]$ 在基 $\alpha$ 下的坐标

$3.11$ 如果 $\alpha=\left[\begin{array}c 1 & 0 \\ 0 & 1 \\ -1 & 0 \\ 0 & 1 \end{array}\right]$, $\alpha$ 是单射吗? $\alpha$ 是满射吗? 如果 $\alpha$ 不是满射，向 $\alpha$ 中添加更多向量让它变为满射，如果你希望让它保持单射，你最多可以添加多少个向量？